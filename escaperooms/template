import numpy as np
import random
from google.colab import auth
auth.authenticate_user()
import gspread
from oauth2client.client import GoogleCredentials

gc = gspread.authorize(GoogleCredentials.get_application_default())

worksheet = gc.open('EscapeRooms').sheet1
rows = np.array(worksheet.get_all_values())
rows = np.hsplit(rows,np.array([0,0,1]))
del rows[0:2]

questions = rows[0]
answers = rows[1]

def divide_chunks(l, n):

    for i in range(0, len(l), n):
        yield l[i:i + n]

n = 9
q = np.array(list(divide_chunks(questions, n)))
a = np.array(list(divide_chunks(answers, n)))

numbers = list(range(9))
nlist = ([])
for i in q:
  nlist.append(numbers)

def stage():
  playing = True
  s = 0
  while playing==True:
    n = random.choice(nlist[s])
    m = q[s,n]
    c = a[s,n]
    print(m)
    answer = input("Your Answer is ")
    if(answer == c):
      print("Correct!")
      s += 1
    else:
      print("Incorrect!")
      playing = False
      s = 0
  return c

stage()
